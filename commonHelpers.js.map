{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nimport { gallery, input, loader } from '../main.js';\n\nexport function fetchImg() {\n  loader.hidden = false;\n  gallery.innerHTML = '';\n  const options = new URLSearchParams({\n    key: '43152818-b9b3fa9adc16b8bb91486a66f',\n    q: input.value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${options}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { lightbox } from '../main.js';\n\nlet markup = undefined;\nimport { gallery, loader } from '../main.js';\n\nexport function renderImg(img) {\n  loader.hidden = true;\n  if (img.hits.length === 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      backgroundColor: '#ef4040',\n      progressBar: false,\n      messageColor: '#fafafb',\n      maxWidth: '432px',\n    });\n  } else {\n    markup = img.hits\n      .flatMap(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          `<li class=\"gallery-item\"><a class=\"gallery-link\" href=\"${largeImageURL}\"> <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/> </a>\n              <ul class=\"gallery-item-info-list\"><li class=\"gallery-item-info\">Likes<span class=\"gallery-item-info-value\">${likes}</span></li><li class=\"gallery-item-info\">Views<span class=\"gallery-item-info-value\">${views}</span></li><li class=\"gallery-item-info\">Comments<span class=\"gallery-item-info-value\">${comments}</span></li><li class=\"gallery-item-info\">Downloads<span class=\"gallery-item-info-value\">${downloads}</span></li></ul></li>`\n      )\n      .join('');\n    gallery.insertAdjacentHTML('afterbegin', markup);\n    lightbox.refresh();\n  }\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImg } from './js/pixabay-api.js';\nimport { renderImg } from './js/render-functions.js';\n\nconst form = document.querySelector('form');\nexport const input = document.querySelector('input');\nexport const gallery = document.querySelector('.gallery');\nexport const lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionsDelay: 250,\n});\nexport const loader = document.querySelector('.loader');\nloader.setAttribute('hidden', true);\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (event.target.elements.keyword.value === '') {\n    iziToast.error({\n      message: 'Please enter key word',\n      position: 'topRight',\n      backgroundColor: '#ef4040',\n      progressBar: false,\n      messageColor: '#fafafb',\n    });\n    return;\n  }\n  fetchImg()\n    .then(img => renderImg(img))\n    .catch(error => console.log(error));\n  form.reset();\n});\n"],"names":["fetchImg","loader","gallery","options","input","response","markup","renderImg","img","iziToast","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","form","SimpleLightbox","event","error"],"mappings":"6vBAIO,SAASA,GAAW,CACzBC,EAAO,OAAS,GAChBC,EAAQ,UAAY,GACpB,MAAMC,EAAU,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGC,EAAM,MACT,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BD,CAAO,EAAE,EAAE,KAAKE,GAAY,CACnE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCdA,IAAIC,EAGG,SAASC,EAAUC,EAAK,CAC7BP,EAAO,OAAS,GACZO,EAAI,KAAK,SAAW,EACtBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,YAAa,GACb,aAAc,UACd,SAAU,OAChB,CAAK,GAEDH,EAASE,EAAI,KACV,QACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC,0DAA0DL,CAAa,sCAAsCD,CAAY,UAAUE,CAAI;AAAA,4HACrBC,CAAK,wFAAwFC,CAAK,2FAA2FC,CAAQ,4FAA4FC,CAAS,wBAC/Z,EACA,KAAK,EAAE,EACVd,EAAQ,mBAAmB,aAAcI,CAAM,EAC/CW,EAAS,QAAO,EAEpB,CC7BA,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC7Bd,EAAQ,SAAS,cAAc,OAAO,EACtCF,EAAU,SAAS,cAAc,UAAU,EAC3Ce,EAAW,IAAIE,EAAe,gBAAiB,CAC1D,aAAc,MACd,cAAe,GACjB,CAAC,EACYlB,EAAS,SAAS,cAAc,SAAS,EACtDA,EAAO,aAAa,SAAU,EAAI,EAElCiB,EAAK,iBAAiB,SAAUE,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChBA,EAAM,OAAO,SAAS,QAAQ,QAAU,GAAI,CAC9CX,EAAS,MAAM,CACb,QAAS,wBACT,SAAU,WACV,gBAAiB,UACjB,YAAa,GACb,aAAc,SACpB,CAAK,EACD,MACD,CACDT,EAAU,EACP,KAAKQ,GAAOD,EAAUC,CAAG,CAAC,EAC1B,MAAMa,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCH,EAAK,MAAK,CACZ,CAAC"}